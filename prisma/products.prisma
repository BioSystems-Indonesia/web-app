model Product {
    id          Int         @id @default(autoincrement())
    name        String
    method      String
    productType ProductType @default(CLINICAL)
    createdAt   DateTime    @default(now())
    deletedAt   DateTime?

    variants          ProductVariant[]
    productCategories ProductCategory[] @relation("ProductToCategory")
}

model ProductCategory {
    id           Int         @id @default(autoincrement())
    category     String      @unique
    categoryType ProductType @default(CLINICAL)
    icon         String
    deletedAt    DateTime?

    products Product[] @relation("ProductToCategory")
}

model ProductVariant {
    id         Int    @id @default(autoincrement())
    productId  Int
    code       String
    instrument String

    raVolume  String
    rbVolume  String
    kitVolume String

    createdAt DateTime  @default(now())
    deletedAt DateTime?

    product Product @relation(fields: [productId], references: [id], onDelete: Cascade)

    @@unique([productId, code])
}
